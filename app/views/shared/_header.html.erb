<header class="w-full bg-stone-400">
  <div class="w-full px-8 flex justify-between items-center py-4">
    <%= link_to "precut", root_path,
        class: "inline-flex items-center text-3xl font-extrabold text-white px-3 py-2 rounded-lg
               hover:bg-stone-500 transition-colors" %>
    <nav class="flex items-center space-x-6">
      <details class="relative">
        <summary class="inline-flex items-center justify-center w-10 h-10 rounded-lg text-white cursor-pointer
                        bg-stone-500 hover:bg-stone-600 transition-colors list-none">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block h-6 w-6 stroke-current text-white">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </summary>
        <ul class="absolute top-full right-0 mt-3 w-52 p-2 shadow-xl bg-gray-800/90 backdrop-blur-sm rounded-lg z-10 text-white space-y-1">
          <% if user_signed_in? %>
            <!-- ログイン時 -->
            <li><%= link_to "マイページ", user_path(@user), class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
            <li><%= link_to "カウンセリング履歴", consultations_path,
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
            <li class="border-t border-gray-600 my-1"></li>
            <li><%= link_to "ログアウト", destroy_user_session_path,
                  data: { turbo_method: :delete, turbo_confirm: "ログアウトしますか？" },
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md text-red-400 font-semibold" %></li>
          <% else %>
            <!-- 未ログイン -->
            <li><%= link_to "ログイン", new_user_session_path,
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
            <li><%= link_to "新規登録", new_user_registration_path,
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
          <% end %>
          <!-- 共通 -->
          <li><%= link_to "プライバシーポリシー", privacy_policy_static_path,
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
          <li><%= link_to "利用規約", terms_of_service_static_path,
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
          <%= link_to "お問い合わせ", "https://forms.gle/ry5XdtHmWuSGbrZcA",
                  class: "block px-4 py-2 hover:bg-gray-700/80 rounded-md" %></li>
      </ul>
    </details>
  </nav>
</div>
</header>
